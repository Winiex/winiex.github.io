<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 安装 SimpleCV 以及 Hello World 程序 · Bach is coding</title><meta name="description" content="安装 SimpleCV 以及 Hello World 程序 - winiex"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="http://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">HOME</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/winiex" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">安装 SimpleCV 以及 Hello World 程序</h1><div class="post-info">Apr 25, 2013</div><div class="post-content"><p>SimpleCV 是一个完全用 Python 语言编写的 Computer Vision 开源库。因为最近在做和 Computer Vision 有关的毕业设计，所以我要使用它来完成我自己课题中的设想。</p>
<h2 id="安装-SimpleCV"><a href="#安装-SimpleCV" class="headerlink" title="安装 SimpleCV"></a>安装 SimpleCV</h2><p>安装 SimpleCV 的过程很简单，主要有通过包管理系统和通过源代码来进行安装两种方式。<strong>在写这篇文章的时候（2013-4-22），通过 pip 安装的 SimpleCV 存在<a href="http://help.simplecv.org/question/300/ioerror-file-not-found-while-trying-display/" target="_blank" rel="external">一个影响使用的 bug</a></strong>，所以我最后使用的是通过 git 仓库下载源代码进而安装的版本。</p>
<a id="more"></a>
<h3 id="通过包管理系统安装"><a href="#通过包管理系统安装" class="headerlink" title="通过包管理系统安装"></a>通过包管理系统安装</h3><p>SimpleCV 依赖于一些第三方库：SciPy、NumPy、Pygame、OpenCV 2.3+、IPython 10+、PIL 1.1.7+。在使 SimpleCV 能够顺利运行之前，你需要安装这些库的软件包。在我使用的 Arch Linux 上，通过如下命令来安装这些软件包：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S python2-numpy opencv2.3.1_a-4 python-pygame ipython2</span><br></pre></td></tr></table></figure>
<p>其它平台的安装方式可以参考<a href="http://www.simplecv.org/docs/installation.html" target="_blank" rel="external">官方给出的文档</a>。</p>
<p>安装了依赖的第三方库后，就可以开始安装 SimpleCV 了。通过 Python 社区很流行的 <a href="https://pypi.python.org/pypi/pip" target="_blank" rel="external">Pip</a> 包管理系统可以很方便地安装 SimpleCV，只需输入如下命令即可：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pip install simplecv</span><br></pre></td></tr></table></figure>
<h3 id="通过-Git-仓库源代码安装"><a href="#通过-Git-仓库源代码安装" class="headerlink" title="通过 Git 仓库源代码安装"></a>通过 Git 仓库源代码安装</h3><p>我现在使用的 SimpleCV 是通过使用 Git 仓库的源代码来进行安装的。这样做的话，首先，你需要 clone <a href="https://github.com/sightmachine/SimpleCV" target="_blank" rel="external">官方的 Git 仓库</a>中的源代码到本地：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/sightmachine/SimpleCV.git SimpleCV-git</span><br></pre></td></tr></table></figure>
<p>等源代码下载完毕后，就可以安装 SimpleCV 了（需要提醒的是，你必须安装 Python 的包安装工具 <a href="https://pypi.python.org/pypi/setuptools" target="_blank" rel="external">setuptools</a>）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd SimpleCV-git</span><br><span class="line">sudo python setup.py install</span><br></pre></td></tr></table></figure>
<p>如果存在疑问的话，官方的 Git 仓库的 <a href="https://github.com/sightmachine/SimpleCV/blob/develop/README.markdown" target="_blank" rel="external">README 文件</a>中有详细的安装步骤，可以参考之。</p>
<h2 id="Hello-World-程序"><a href="#Hello-World-程序" class="headerlink" title="Hello World 程序"></a>Hello World 程序</h2><p>刚开始学一门技术，怎么能不动手写写 Hello World 程序来练练手熟悉熟悉呢？这可是祖师爷 K&amp;R 在 C 语言崛起的时代就立下的规矩（笑）。接下来我们就来实现两个 Hello World 类型的程序，权当熟悉 SimpleCV 的基础使用过程。</p>
<h3 id="调用摄像头并显示捕获的图像"><a href="#调用摄像头并显示捕获的图像" class="headerlink" title="调用摄像头并显示捕获的图像"></a>调用摄像头并显示捕获的图像</h3><p>第一个例子是，使用 SimpleCV 打开电脑的摄像头，然后读取实时图片并显示。实现这个功能的代码极为简单：</p>
<figure class="highlight python"><figcaption><span>Using camera through SimpleCV</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> SimpleCV <span class="keyword">import</span> *</span><br><span class="line">camera = Camera()</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>):</span><br><span class="line">	image = camera.getImage()</span><br><span class="line">	image.show()</span><br></pre></td></tr></table></figure>
<p>由于 Python 语言本身的自解释能力极强，以上的代码是很容易理解的，所以我就不一行一行地作解释了。</p>
<p>最终的运行结果如下：</p>
<img src="http://o9fv3ui6e.bkt.clouddn.com/6e17ea56-3ca6-11e6-a0ad-a3d1bcaef2ec.png" class="center" width="600">
<h3 id="从图片中截取小车并保存"><a href="#从图片中截取小车并保存" class="headerlink" title="从图片中截取小车并保存"></a>从图片中截取小车并保存</h3><p>在第二个例子中，我们将会从一个图片中切出我们想要的部分，并将这部分保存为一张新图片。我们的素材图片如下：</p>
<img src="http://o9fv3ui6e.bkt.clouddn.com/7b0db790-3ca6-11e6-9950-577a5d75b1ba.png" class="center" width="600">
<p>我们的目标是，从这幅图里面截取出我们想要的黄色小车所在的一定大小的方形区域。首先，我们导入 SimpleCV 库，并且读入该图片：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> SimpleCV <span class="keyword">import</span> *</span><br><span class="line">parking_car_image = Image(<span class="string">"parking_car.png"</span>)</span><br></pre></td></tr></table></figure>
<p>然后，我们将小黄车的图片区域截取出来，并最终保存：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yellow_car_image = parking_car_image.crop(<span class="number">470</span>, <span class="number">200</span>, <span class="number">200</span>, <span class="number">200</span>) <span class="comment">#小车在图中的位置和大小我们事先已经知晓</span></span><br><span class="line">yellow_car_image.save(<span class="string">"yellow_car.png"</span>)</span><br></pre></td></tr></table></figure>
<p>完整的代码如下（其实好简单，我都想一次给出啊）：</p>
<figure class="highlight python"><figcaption><span>Get yellow car from image.</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> SimpleCV <span class="keyword">import</span> *</span><br><span class="line">parking_car_image = Image(<span class="string">"parking_car.png"</span>)</span><br><span class="line">yellow_car_image = parking_car_image.crop(<span class="number">470</span>, <span class="number">200</span>, <span class="number">200</span>, <span class="number">200</span>) <span class="comment">#小车在图中的位置和大小我们事先已经知晓</span></span><br><span class="line">yellow_car_image.save(<span class="string">"yellow_car.png"</span>)</span><br></pre></td></tr></table></figure>
<p>最终我们截取的图片结果如下：</p>
<img src="http://o9fv3ui6e.bkt.clouddn.com/8c7b5276-3ca6-11e6-aa29-fbbc4074b9f8.png" class="center">
<p>以上两个例子，其实都来自于 <a href="http://simplecv.org/learn/examples.html" target="_blank" rel="external">SimpleCV 官方给出的样例</a>。同时，他们在 Github 上也给出了 <a href="https://github.com/sightmachine/simplecv-examples" target="_blank" rel="external">SimpleCV 的样例</a>，以供初学者研究。如果你觉得这两个例子还不过瘾的话（好样的），可以去找更多的例子研究。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>其实在学习 SimpleCV 之前，我已经研究过<a href="!--￼11--">其它的几个 Computer Vision 开源库</a>了：包括 OpenCV、OpenIMAJ 等。可只有 SimpleCV 让我惊艳了一番——正如它的名字一样，它因为够简单，所以使用起来很舒服。不知道这是不是因为使用 Python 构建的原因（笑）。SimpleCV 的官方文档支持还是比较完善的，另外还有<a href="http://help.simplecv.org/questions/" target="_blank" rel="external">支持论坛</a>来解决用户的问题，很贴心。如果你有一些很疑难的问题的话，可以去那里咨询。</p>
<p>SimpleCV 对于一些简单的机器学习模型也是有<a href="http://simplecv.org/docs/SimpleCV.MachineLearning.html" target="_blank" rel="external">一定的支持</a>的，这个让我很开心啊（因为和我的毕设有关）。</p>
<p>O’Reilly 出过两本有关利用 Python 来完成 Computer Visoin 任务的书：<a href="http://book.douban.com/subject/10574101/" target="_blank" rel="external">Programming Computer Vision with Python</a> 和 <a href="http://book.douban.com/subject/10759537/" target="_blank" rel="external">Practical Computer Vision with SimpleCV</a>。如果你想进一步提高的话，可以参阅这两本书。</p>
</div></article></div></section><footer><div class="paginator"><a href="/2013/04/29/thoughts-about-efficiency/" class="prev">PREV</a><a href="/2013/04/23/what-should-programmer-do-when-facing-bottleneck/" class="next">NEXT</a></div><div data-thread-key="2013/04/25/learning-simplecv-the-basics/" data-title="安装 SimpleCV 以及 Hello World 程序" data-url="http://bachiscoding.com/2013/04/25/learning-simplecv-the-basics/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"bachiscoding"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script><div class="copyright"><p>© 2015 - 2016 <a href="http://bachiscoding.com">winiex</a>, unless otherwise noted.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>